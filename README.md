# NOMA系统仿真与性能分析

## 项目描述
本项目实现了一个NOMA（Non-Orthogonal Multiple Access，非正交多址接入）系统的仿真平台，用于研究和比较不同用户分组策略的性能。

## 最新更新
- 优化了信道模型，采用3GPP路径损耗模型
- 改进了功率分配策略，使用分数功率分配方案
- 添加了吞吐量验证机制，确保不超过理论上限
- 统一了三种分组方法的评分机制
- 减少了系统参数以获得更合理的仿真结果

## 系统参数
- 用户数量：50
- 系统总功率：0.1 W
- 系统带宽：1 MHz
- 噪声功率：1e-13 W
- 每组最大用户数：2
- 仿真次数：100

## 主要功能
1. 信道建模
   - 基于3GPP标准的路径损耗模型
   - 考虑小尺度瑞利衰落
   - 用户距离范围：10-100米

2. 用户分组策略
   - 穷尽搜索：遍历所有可能的两用户组合
   - 随机分组：多次随机尝试选择最优结果
   - 匹配分组：基于信道增益的强弱用户配对

3. 性能评估
   - 系统吞吐量计算
   - 用户公平性评估（Jain's公平性指数）
   - 算法运行时间比较
   - 收敛性分析

## 关键改进
1. 功率分配
   - 采用分数功率分配策略
   - 信道较差的用户获得更多功率
   - 确保总功率约束

2. 吞吐量计算
   - 添加理论上限验证
   - 考虑SIC（连续干扰消除）
   - 系统容量约束

3. 评分机制
   - 吞吐量权重：0.7
   - 公平性权重：0.3

## 使用说明
1. 运行main.m开始仿真
2. 程序将自动生成三个图形：
   - 系统吞吐量比较
   - 算法运行时间比较
   - 算法收敛性分析
3. 控制台输出详细的统计结果

## 注意事项
- 确保MATLAB版本兼容性
- 可通过修改系统参数调整仿真场景
- 观察控制台输出的警告信息以检查潜在问题

## 后续优化方向
1. 添加更多用户分组策略
2. 优化功率分配算法
3. 考虑更复杂的信道模型
4. 添加QoS约束
5. 实现自适应功率分配

## 作者
asaqe 

## 最后更新
2024年11月19日

## 更新日志

### 2024-11-19 更新

1. 系统参数优化
   - 调整用户数量为50
   - 优化功率设置为0.1W
   - 提高带宽到1MHz
   - 更新噪声功率为1e-13W
   - 减少仿真次数至100次以提高效率

2. 信道模型改进
   - 实现3GPP路径损耗模型
   - 用户距离范围：10-100米
   - 优化小尺度衰落计算

3. 功率分配策略更新
   - 实现分数功率分配方案
   - 信道较差用户获得更多功率
   - 添加功率分配验证机制

4. 吞吐量计算优化
   - 添加理论上限验证
   - 实现系统容量约束
   - 优化SINR计算方法

5. 分组算法改进
   - 统一三种方法的评分机制
   - 增加随机分组的尝试次数
   - 优化匹配分组的配对策略

6. 代码结构优化
   - 添加详细注释
   - 改进错误处理
   - 增加调试信息输出

7. 问题修复
   - 修正吞吐量计算超出理论上限的问题
   - 解决功率分配不准确的问题
   - 改进SIC解码顺序的处理

## 功率分配算法分析

### 实现的功率分配算法
1. **固定功率分配（FPA）**
   - 预设固定的功率分配比例
   - 简单直观，易于实现
   - 不考虑信道状态，可能不够灵活

2. **分数功率分配（FTPA）**
   - 基于信道状态的动态分配
   - 考虑用户间的信道差异
   - 引入非均匀性参数α调节分配比例

3. **遍历搜索功率分配（FSPA）**
   - 在给定范围内搜索最优功率分配
   - 可以获得较好的性能
   - 计算复杂度较高

4. **最大化吞吐量分配**
   - 使用优化算法求解最优功率分配
   - 目标是最大化系统总吞吐量
   - 需要考虑各种约束条件

### 性能指标
1. **系统吞吐量**
   - 计算方法：R = B * log2(1 + SINR)
   - 考虑干扰影响
   - 验证不超过理论上限

2. **用户公平性**
   - 使用Jain's公平性指数
   - 评估用户间的资源分配均衡性
   - 取值范围：[0,1]

3. **算法复杂度**
   - 运行时间统计
   - 收敛性分析
   - 实际应用可行性评估

### 仿真参数设置
- 总功率：1.0 W
- 带宽：1 MHz
- 噪声功率：1e-10 W
- 用户数：2
- 仿真次数：1000

### 关键改进
1. **信道模型**
   - 采用3GPP路径损耗模型
   - 考虑瑞利衰落
   - 更贴近实际场景

2. **功率约束**
   - 总功率限制
   - 单用户最小功率保证
   - NOMA功率分配原则

3. **性能优化**
   - SIC解码顺序优化
   - 干扰管理策略
   - 理论上限验证

### 使用说明
1. 运行main1.m开始功率分配算法比较仿真
2. 查看生成的三个对比图：
   - 系统吞吐量比较
   - 公平性指数比较
   - 运行时间对比
3. 分析控制台输出的详细统计数据

### 实验结果分析
1. **吞吐量比较**
   - FSPA通常能获得最高吞吐量
   - FPA性能相对稳定
   - FTPA在不同场景下表现各异

2. **公平性比较**
   - FTPA typically achieves better fairness
   - FPA提供稳定的公平性
   - 最大化吞吐量可能导致公平性降低

3. **复杂度分析**
   - FPA计算最简单
   - FSPA需要较长运行时间
   - FTPA在性能和复杂度间取得平衡

### 注意事项
1. 功率分配算法选择建议：
   - 追求性能优先选择FSPA
   - 计算资源受限使用FPA
   - 需要平衡性能和公平性选择FTPA

2. 参数调整建议：
   - FTPA的α参数影响分配均衡性
   - 搜索步长影响FSPA性能和运行时间
   - 功率约束范围影响系统整体性能

### 未来改进方向
1. 算法优化
   - 改进FSPA搜索效率
   - 开发自适应功率分配策略
   - 引入机器学习方法

2. 功能扩展
   - 支持多用户场景
   - 添加QoS约束
   - 考虑移动性影响

3. 性能提升
   - 优化SIC实现
   - 改进干扰管理
   - 提高计算效率